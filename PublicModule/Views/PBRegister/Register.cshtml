@model IntegrationModule.REQModels.UserRegisterReq

@{
    ViewData["Title"] = "Register";
}
<div class="container-fluid w-50">
    <div class="row">
        <div class="col-12">
            <h1>Register</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <form asp-controller="PBRegister" asp-action="Register" method="post">
                <div class="form-group">
                    <label asp-for="Username">Username:</label>
                    <input asp-for="Username" class="form-control" />
                </div>
                <div class="form-group">
                    <label asp-for="FirstName">First Name:</label>
                    <input asp-for="FirstName" class="form-control" />
                </div>
                <div class="form-group">
                    <label asp-for="LastName">Last Name:</label>
                    <input asp-for="LastName" class="form-control" />
                </div>
                <div class="form-group">
                    <label asp-for="Email">Email:</label>
                    <input asp-for="Email" class="form-control" />
                </div>
                <div class="form-group">
                    <label asp-for="Password">Password:</label>
                    <input asp-for="Password" class="form-control" type="password" />
                </div>
                <div class="form-group">
                    <label asp-for="CountryOfResidenceId">Country Of Residence:</label>
                    <input asp-for="CountryOfResidenceId" class="form-control" />
                </div>
                <div class="form-group">
                    <label asp-for="Phone">Phone Number:</label>
                    <input asp-for="Phone" class="form-control" />
                </div>
                <div class="form-group mt-4">
                    <input type="submit" value="Register" class="btn btn-primary" />
                </div>
            </form>
        </div>
    </div>
</div>


@if (TempData["Username"] != null && TempData["Token"] != null)
{
    @* <script>
        var username = '@TempData["Username"]';
        var rawTokenString = '@TempData["Token"]';
        var parsedTokenObject = JSON.parse(rawTokenString.replace(/&quot;/g, '\"'));
        var token = parsedTokenObject.token;

        sessionStorage.setItem("username", username);
        sessionStorage.setItem("b64token", token);

        var validateEmail = confirm("Do you want to validate your email?");
        if (validateEmail) {
            window.location.href = "https://localhost:7035/html/email-validation.html?username=" + encodeURIComponent(username) + "&b64SecToken=" + encodeURIComponent(token);
        }
    </script> *@
}




@if (TempData["Success"] != null)
{
    <div class="alert alert-success p-4">
        @TempData["Success"]
    </div>
}

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger p-4">
        @TempData["Error"]
    </div>
}